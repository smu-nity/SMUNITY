{% extends 'base.html' %}
{% load static %}
{% block css %}
    <link rel="stylesheet" href="{% static 'css/head.css' %}">
{% endblock %}
{% block main_area %}
    <div class="bg_wrapper">
        <!-- ë©”ì¸ -->
        <header class="main_bg">
            <!-- ì†Œê°œ ë¬¸êµ¬ -->
            <div class="bg_text_btn">
                <div class="bg_small_text fadein_text" style="letter-spacing:1px;">
                    ìƒëª…ëŒ€ ì¡¸ì—…ìš”ê±´ ê²€ì‚¬ ì‚¬ì´íŠ¸
                </div>
                <div class="bg_big_text fadein_text" style="letter-spacing:8px;">
                    SMUNITY
                </div>
                <div class="bg_btn">
                    <button class="bg_btn_style" onclick="location.href={% url 'core:mypage' %}">ê²€ì‚¬í•˜ê¸°</button>
                </div>
            </div>
        </header>
    </div>
    <!-- ì—…ë°ì´íŠ¸ ê³µì§€ -->
    <div id='myModal' class="modal" style="display: none;">
        <div class="modal-content">
            <span id='dd' class="close" style="font-size:3rem;">&times;</span>
            <div class='popup_content'>
                <div class='popup_title'>
                    ê³µì§€ì‚¬í•­
                </div>
                <div class='popup_box'>
                    <ul>
                        ğŸ“¢ì•ˆë…•í•˜ì„¸ìš”. ìŠ¤ë®¤ë‹ˆí‹°ì…ë‹ˆë‹¤.<br>
                        ì¬í•™ìƒë¶„ë“¤ì˜ ë§ì€ ì„±ì›ì— ì •ë§ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.<br><br>

                        ê¸°ì¡´ ì—‘ì…€ íŒŒì¼ ì—…ë¡œë“œ ë°©ì‹ì˜ ë¬¸ì œì ì„ ì¸ì§€í•œ í›„ ì—…ë¡œë“œ ë°©ì‹ì„ ë³€ê²½í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                        (<b>ë§ˆì´í˜ì´ì§€</b>ì—ì„œ <b>ê¸°ì´ìˆ˜ ê³¼ëª© ì—…ë°ì´íŠ¸</b> ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ìì„¸í•œ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!)<br><br>

                        ë˜í•œ ìœµí•©ê³µê³¼ëŒ€í•™ë§Œì„ ëŒ€ìƒìœ¼ë¡œ í•˜ë˜ ì„œë¹„ìŠ¤ê°€ 32ê°œì˜ í•™ê³¼ë¡œ í™•ëŒ€ë˜ì—ˆìŠµë‹ˆë‹¤ â€¼ï¸<br>
                        ëŒ€ìƒ í•™ê³¼ëŠ” <a id='target_btn' class="link_site" style='cursor: pointer;'>ê²€ì‚¬ëŒ€ìƒí‘œ</a>ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>

                        ì—…ë°ì´íŠ¸ê°€ ëŠ¦ì–´ì ¸ ì •ë§ ì£„ì†¡í•©ë‹ˆë‹¤.<br>
                        ì•ìœ¼ë¡œ ë” ë°œì „í•˜ëŠ” ìŠ¤ë®¤ë‹ˆí‹°ê°€ ë˜ê² ìŠµë‹ˆë‹¤. ğŸ™‡ğŸ»â€â™‚ï¸
                        <hr style='border: 0.001px solid rgb(230, 230, 230); margin:1rem 0 1rem 0; width:85%'>
                        <li>
                            <b>version 1.0.2 ì—…ë°ì´íŠ¸ ë‚´ìš©</b>&nbsp;&nbsp;
                            <a class="link_site" target="_blank" href="https://github.com/hyunmin0317/smunity/blob/master/version.md">ë²„ì „ ê¸°ë¡ ë³´ê¸°</a>
                        </li>
                    </ul>
                </div>
                <div class="popup_check">
                    <label style='cursor:pointer'>
                        <input id='unlook' type="checkbox" style='width:1rem; height:1rem;'>
                        <label for='unlook'></label>
                        &nbsp;ë‹¤ìŒ ê³µì§€ê¹Œì§€ ë³´ì§€ ì•Šê¸°
                    </label>

                </div>
            </div>
        </div>
    </div>

    <!-- ê²€ì‚¬ëŒ€ìƒí‘œ ëª¨ë‹¬ -->
    <div id="target_modal" class="modal" style="display: none;">
        <div class="modal-content" style='width:70%'>
            <span class="close" id="target_close">&times;</span>
            <br>
            <div class="modal_div">
                <div class="p_div">
                    <!-- ì¶”ì²œê³¼ëª© -->
                    <div style="font-size : 1.5rem;"><i class="my_i fas fa-check-circle"></i> ê²€ì‚¬ëŒ€ìƒí‘œ
                    </div>
                    <div class="mydiv">ì•„ë˜ í‘œì— í•´ë‹¹í•˜ëŠ” í•™ê³¼ë§Œ íšŒì›ê°€ì… ê°€ëŠ¥í•©ë‹ˆë‹¤.</div>
                    <hr>

                    <div class='target_num_div'>
                        í˜„ì¬ ì´ <span class='target_color_span'>{{ dept_num }}</span>ê°œ í•™ê³¼ ê²€ì‚¬ ê°€ëŠ¥
                    </div>

                    <table class="target_table">
                        <tr>
                            <th class="target_table_th" style='border-left: 1px solid #dadada;'>í•™ê³¼</th>
                            <th class="target_table_th">ë‹¨ê³¼ëŒ€í•™</th>
                            <th class="target_table_th">í•™ë²ˆ</th>
                        </tr>
                        {% for department in departments %}
                        <tr>
                            <td class="target_table_td" style='border-left: 1px solid #dadada;'>{{ department.name }}</td>
                            <td class="target_table_td">{{ department.college }}</td>
                            <td class="target_table_td" >23, 22, 21, 20, 19, 18, 17</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script src="{% static 'js/modal.js' %}"></script>

    <script>
    // ì¿ í‚¤ ì—¬ë¶€ì— ë”°ë¼ ëª¨ë‹¬ì°½ ë Œë”ë§
    var unlook_cookie = document.cookie.match('(^|;) ?' + 'is_unlook_0206' + '=([^;]*)(;|$)');
    if (unlook_cookie == null) {
        document.getElementById('myModal').style.display = 'block';
    }

    // ëª¨ë‹¬ ì°½ ë„ê¸° + ë‹¤ì‹œ ë³´ì§€ ì•ŠìŒ ì¿ í‚¤ ì„¤ì •
    var Spanclick_set_cookie = function (x, y) {
        x.onclick = function () {
            y.style.display = "none";
            var chk = document.getElementById('unlook');
            // ì²´í¬í•˜ê³  ëˆ„ë¥´ë©´ ì¿ í‚¤ ìƒì„±
            if (chk.checked) {
                var date = new Date();
                date.setTime(date.getTime() + 60 * 24 * 60 * 60 * 1000);
                document.cookie = 'is_unlook_0206' + '=' + 'unlook' + ';expires=' + date.toUTCString() + ';path=/';
            }
        }
    }
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    var modal = document.getElementById('myModal');
    var span = document.getElementsByClassName("close")[0];

    Spanclick_set_cookie(span, modal);

    // ê²€ì‚¬ëŒ€ìƒí‘œ ëª¨ë‹¬
    var target_btn = document.getElementById("target_btn");
    var target_modal = document.getElementById('target_modal');
    var target_close = document.getElementById("target_close");
    Btnclick(target_btn, target_modal);
    Spanclick(target_close, target_modal);
    window.onclick = function (event) {
        if (event.target == target_modal) {
            target_modal.style.display = "none";
        }
    }
</script>
{% endblock %}